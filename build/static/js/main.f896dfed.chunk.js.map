{"version":3,"sources":["components/Button.js","components/Person.js","components/PersonList.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/person.js","components/ErrorMessage.js","App.js","index.js"],"names":["Button","name","text","onClick","Person","p","onButtonClick","number","PersonList","persons","filter","handleClick","listToShow","String","trim","length","f","toUpperCase","includes","map","PersonForm","hfs","hnamei","hnumberi","nname","nnumber","onSubmit","value","onChange","type","Filter","nf","flist","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","personService","getAll","axios","get","then","response","data","create","newPerson","post","update","id","put","deletePerson","delete","ErrorMessage","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setFilter","notification","setNotification","errorMessage","setErrorMessage","useEffect","personList","event","target","preventDefault","phoneBookObject","setTimeout","findIndex","window","confirm","res","newList","catch","error","concat","idx","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f896dfed.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Button = ({name, text, onClick}) => {\r\n    return (\r\n        <button onClick={onClick}>{text}</button>\r\n    )\r\n}\r\n\r\nexport default Button","import React from 'react';\r\nimport Button from './Button';\r\n\r\n\r\nconst Person = ({p, onButtonClick}) => {\r\n    return(\r\n        <div>{p.name}  {p.number}  <Button name={p.name} text={'delete'} onClick={onButtonClick(p.name)}/></div>\r\n        )\r\n}\r\n\r\nexport default Person;","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst PersonList = ({persons, filter, handleClick}) => {\r\n    let listToShow = []\r\n    if (String(filter).trim().length === 0) {\r\n        listToShow = persons\r\n    } else {\r\n        let f = ' ' + filter\r\n        listToShow = persons.filter(p =>p.name.toUpperCase().includes(f.toUpperCase().trim())) \r\n    }\r\n\r\n    return (\r\n        listToShow.map(p => <Person key={p.name} p={p} onButtonClick={handleClick}/>)\r\n    )\r\n}\r\n\r\nexport default PersonList;","import React from 'react'\r\n\r\nconst PersonForm = ({hfs, hnamei, hnumberi, nname, nnumber}) => {\r\n    return (\r\n        <form onSubmit={hfs}>\r\n            <table>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>name:</td><td><input value={nname} onChange={hnamei}/></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>number:</td><td><input value={nnumber} onChange={hnumberi}/></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><button type='submit'>add</button></td><td></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm;","import React from 'react'\r\n\r\nconst Filter = ({nf, flist}) => {\r\n    return (\r\n        <>\r\n            Filter shown with <input value={nf} onChange={flist}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Filter;","import React from 'react';\r\n\r\nconst Notification = ({message}) => {\r\n    const notificationStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (message === '') {\r\n        return null\r\n    }\r\n    return (\r\n        <div style={notificationStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const res = axios.get(baseUrl)\r\n    return res.then(response => response.data)\r\n}\r\n\r\nconst create = newPerson => {\r\n    const res = axios.post(baseUrl, newPerson)\r\n    return res.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n    const res = axios.put(`${baseUrl}/${id}`, newPerson)\r\n    return res.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n    const res = axios.delete(`${baseUrl}/${id}`)\r\n    return res.then(response => response.data)\r\n}\r\n\r\nconst personService = {getAll, create, update, deletePerson}\r\n\r\nexport default personService","import React from 'react';\r\n\r\nconst ErrorMessage = ({message}) => {\r\n    const errorStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (message === '') {\r\n        return null\r\n    }\r\n    return (\r\n        <div style={errorStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorMessage\r\n","import React, {useState, useEffect} from 'react';\r\nimport PersonList from './components/PersonList'\r\nimport PersonForm from './components/PersonForm'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/person'\r\nimport ErrorMessage from './components/ErrorMessage';\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [newFilter, setFilter] = useState('')\r\n    const [notification, setNotification] = useState('')\r\n    const [errorMessage, setErrorMessage] = useState('')\r\n\r\n    const handleFormSubmit = (event) => {\r\n        event.preventDefault()\r\n        const phoneBookObject = {\r\n            name: newName,\r\n            number: newNumber,\r\n        }\r\n        if (newName === '' || newNumber === '') {\r\n            setErrorMessage(`Both name and number are mandatory fields`)\r\n            setTimeout(() => setErrorMessage(''), 5000)\r\n            return\r\n        }\r\n        if (persons.findIndex((p) => p.name === phoneBookObject.name) >= 0){\r\n            //alert(`${newName} is already added to phonebook`)\r\n            if (window.confirm(`${phoneBookObject.name} is already added to phonebook, replace the old number with a new one?`)) {\r\n                const id = persons[persons.findIndex(p => p.name === phoneBookObject.name)].id\r\n                personService.update(id, phoneBookObject)\r\n                    .then(res => {\r\n                        const newList = persons.map(p => p.id !== id ? p : res)\r\n                        setPersons(newList)\r\n                        setNotification(`Updated the number of ${phoneBookObject.name}`)\r\n                        setTimeout(() => setNotification(''), 5000)\r\n                        setNewName('')\r\n                        setNewNumber('')\r\n                        setFilter('')\r\n                    })\r\n                    .catch(error => {\r\n                        setErrorMessage(`Error: ${phoneBookObject.name} may have been deleted already?`)\r\n                        setTimeout(() => setErrorMessage(''), 5000)\r\n                        setNewName('')\r\n                        setNewNumber('')\r\n    \r\n                    })\r\n            } else {\r\n                setNewName('')\r\n                setNewNumber('')\r\n            }\r\n        } else {\r\n            personService.create(phoneBookObject)\r\n                .then(newPerson => {\r\n                    setPersons(persons.concat(newPerson))\r\n                    setNotification(`Added ${phoneBookObject.name}`)\r\n                    setTimeout(() => setNotification(''), 5000)\r\n                    setNewName('')\r\n                    setNewNumber('')\r\n                    setFilter('')\r\n                })\r\n            }\r\n   }\r\n  \r\n\r\n    const handleNameInput = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberInput = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const filterList = (event) => {\r\n        setFilter(event.target.value)\r\n    } \r\n\r\n    const handleDeleteClick = (name) => {\r\n        return (\r\n            () => {\r\n                if (window.confirm(`Delete ${name}?`)) {\r\n                    const idx = persons.findIndex(p => p.name === name)\r\n                    if (idx >= 0) {\r\n                        const id = persons[idx].id\r\n                        const name = persons[idx].name\r\n                        personService.deletePerson(id)\r\n                            .then(res => { \r\n                                setPersons(persons.filter(p => p.id !== id))\r\n                                setNotification(`Deleted the entry of ${name}`)\r\n                                setTimeout(() => setNotification(''), 5000)\r\n                            })\r\n                            .catch(error => {\r\n                                setErrorMessage(`Deletion of ${name} failed - maybe already removed?`)\r\n                                setTimeout(() => setErrorMessage(''), 5000)\r\n                                setPersons(persons.filter(p => p.name !== name))\r\n                            })\r\n                    }  \r\n                }  \r\n            }\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        personService.getAll()\r\n          .then(personList => {\r\n            setPersons(personList)\r\n          })\r\n      }, [])\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={notification}/>\r\n            <ErrorMessage message={errorMessage}/>\r\n            <Filter nf={newFilter} flist={filterList} />\r\n            <h3>Add a new</h3>\r\n            <PersonForm hfs={handleFormSubmit} hnamei={handleNameInput} hnumberi={handleNumberInput} nname={newName} nnumber={newNumber} />\r\n            <h3>Numbers</h3>\r\n            <PersonList persons={persons} filter={newFilter} handleClick={handleDeleteClick} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}